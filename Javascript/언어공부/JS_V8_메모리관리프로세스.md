[참고블로그](https://medium.com/naver-place-dev/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%99%80-v8-%EC%97%94%EC%A7%84%EC%9D%98-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B4%80%EB%A6%AC-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-f45091e696e1)


# 스택(Stack)

함수의 호출 정보 또한 스택의 프레임으로 저장된다. 각 프레임은 함수 호출시 필요로 하는 데이터를 저장한 한 블록의 공간을 의미한다.(물리 메모리의 영역을 말한다. 가상 메모리가 아님!) 

해당 함수가 새 변수를 생성하면, 그 데이터는 스택 맨 위의 블록에 저장됩니다. 함수 호출이 종료되면 스택 맨 위 블록이 제거됩니다.
멀티 스레딩이 가능한 어플리케이션은 스레드 수 만큼 스택을 여러개 가질 수 있습니다. 일반적으로 스택에 저장되는 데이터 종류로는 지역변수(local variables), 포인터, 함수 프레임이 있습니다. 거의 모든 프로그래밍 언어에는 스택에 저장될 수 있는 데이터의 사이즈에 상한이 있으며, 스택의 사이즈를 초과하는 경우에 `StackOverflowError` 가 발생합니다.

# Heap
(거의 베낌. 힙이 프로세스 메모리 공간에 존재한다는 건 알았지만 스레드 간 공유되는지 몰랐네)  
힙(heap)메모리는 동적 메모리 할당에 사용되며, 포인터를 사용하여 데이터 위치를 저장합니다. 스택과 비교하여 데이터를 처리하고 접근하는 속도는 느리지만, 더 큰 용량의 데이터를 저장할 수 있습니다.
하지만 할당하고자 하는 메모리의 사이즈가 동적으로 변동 가능하기에 컴파일타임에 메모리 사이즈를 정확히 예측할 수 없습니다. 힙 메모리는 쓰레드간 공유가 됩니다. 힙 메모리의 동적 성질때문에 메모리 관리가 더 복잡해집니다.
일반적으로 힙에 저장되는 데이터 종류로는 전역 변수 (global variables), 참조 타입(objects, strings, map와 같은 reference types)이 있습니다. 할당된 힙 공간을 초과하는 메모리를 사용하려고 하면 OutOfMemory 에러가 발생합니다. 일반적으로 힙 메모리 용량에 제한은 따로 없습니다 (메모리 총 용량을 초과할 수는 없겠죠).
RAM의 용량은 무한하지 않습니다. 프로그램이 메모리를 더 이상 사용하지 않을 시에는 해당 메모리를 해제(free)해주어야합니다.

# 메모리 관리

1. C, C++ 같이 직접 관리

2. 가비지 컬렉션 (garbage collection) or GC 는 힙 메모리에 할당되어있는 객체, 문자열 등의 데이터가 더 이상 사용되지 않을 때 '자동으로' 메모리를 해제하여 반환하도록 관리함

## 메모리의 라이프 사이클
1. 할당
할당: 운영체제가 메모리를 할당합니다. 자바스크립트의 경우 자동으로 할당합니다.(숫자,문자,객체, 함수 등)
```js
var n = 123
var s = 'minjae'
var o = {a:1, b:2}
function returnArgument (a) { return a } 
elementA.addEventListner('click',()=>console.log('clicked'))
var date = new Date()
var elementDiv = document.createElement('div')
```

2. 사용
메모리가 할당된 변수가 실질적으로 사용됩니다. (읽기,쓰기 작업)

3. 해제
프로그램에서 필요하지 않는 메모리를 반환하여 다시 사용할 수 있게끔 해주는 단계입니다.

자바스크립트에서의 메모리 사용은 메모리를 읽거나 쓰는 행위를 의미하며, 객체의 속성이나 변수값을 사용하거나, 함수에 인수를 넘겨줄 때에도 발생합니다.  

메모리가 더 이상 필요하지 않을때 해제해주어야하지만, 언제 해당 메모리가 필요없는지 알아내는 것은 알고리즘으로 풀기 어려운 문제입니다.

# 자바스크립트 언어 내에서 발생할 수 있는 일반적인 메모리 누수 예시들 4가지

1. 전역변수